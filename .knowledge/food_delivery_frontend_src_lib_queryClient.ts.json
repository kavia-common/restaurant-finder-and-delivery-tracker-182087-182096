{"is_source_file": true, "format": "TypeScript", "description": "This file implements a lightweight query client for caching data with basic staleness control, providing get, set, invalidate, and clear methods.", "external_files": [], "external_methods": [], "published": ["queryClient", "SimpleQueryClient"], "classes": [{"name": "SimpleQueryClient", "description": "A class that manages a cache of data entries with methods to get, set, invalidate, and clear cache entries, supporting staleness checks based on timestamp."}], "methods": [{"name": "get", "description": "Retrieves data associated with a key if it exists and is not stale."}, {"name": "set", "description": "Stores data with a key, with optional staleness duration."}, {"name": "invalidate", "description": "Removes a cache entry by key."}, {"name": "clear", "description": "Clears the entire cache."}], "calls": ["Date.now()", "this.cache.get()", "this.cache.set()", "this.cache.delete()", "this.cache.clear()"], "search-terms": ["query client", "cache", "staleness", "simple cache", "TypeScript cache implementation"], "state": 2, "file_id": 29, "knowledge_revision": 89, "git_revision": "", "revision_history": [{"80": ""}, {"89": ""}], "ctags": [{"_type": "tag", "name": "CacheEntry", "path": "/home/kavia/workspace/code-generation/restaurant-finder-and-delivery-tracker-182087-182096/food_delivery_frontend/src/lib/queryClient.ts", "pattern": "/^type CacheEntry<T> = {$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "SimpleQueryClient", "path": "/home/kavia/workspace/code-generation/restaurant-finder-and-delivery-tracker-182087-182096/food_delivery_frontend/src/lib/queryClient.ts", "pattern": "/^class SimpleQueryClient {$/", "language": "TypeScript", "kind": "class"}, {"_type": "tag", "name": "cache", "path": "/home/kavia/workspace/code-generation/restaurant-finder-and-delivery-tracker-182087-182096/food_delivery_frontend/src/lib/queryClient.ts", "pattern": "/^  private cache = new Map<string, CacheEntry<unknown>>();$/", "language": "TypeScript", "kind": "property", "scope": "SimpleQueryClient", "scopeKind": "class"}, {"_type": "tag", "name": "entry", "path": "/home/kavia/workspace/code-generation/restaurant-finder-and-delivery-tracker-182087-182096/food_delivery_frontend/src/lib/queryClient.ts", "pattern": "/^    const entry = this.cache.get(key);$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "entry", "path": "/home/kavia/workspace/code-generation/restaurant-finder-and-delivery-tracker-182087-182096/food_delivery_frontend/src/lib/queryClient.ts", "pattern": "/^    const entry: CacheEntry<T> = { data, updatedAt: Date.now(), staleTime };$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "isStale", "path": "/home/kavia/workspace/code-generation/restaurant-finder-and-delivery-tracker-182087-182096/food_delivery_frontend/src/lib/queryClient.ts", "pattern": "/^    const isStale = Date.now() - entry.updatedAt > entry.staleTime;$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "queryClient", "path": "/home/kavia/workspace/code-generation/restaurant-finder-and-delivery-tracker-182087-182096/food_delivery_frontend/src/lib/queryClient.ts", "pattern": "/^export const queryClient = new SimpleQueryClient();$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "updatedAt", "path": "/home/kavia/workspace/code-generation/restaurant-finder-and-delivery-tracker-182087-182096/food_delivery_frontend/src/lib/queryClient.ts", "pattern": "/^    const entry: CacheEntry<T> = { data, updatedAt: Date.now(), staleTime };$/", "language": "TypeScript", "kind": "constant"}], "hash": "f130ca80ba5161a2c8c8255d7903ed62", "format-version": 4, "code-base-name": "food_delivery_frontend", "filename": "food_delivery_frontend/src/lib/queryClient.ts", "fields": [{"name": "private cache = new Map<string, CacheEntry<unknown>>();", "scope": "SimpleQueryClient", "scopeKind": "class", "description": "unavailable"}]}